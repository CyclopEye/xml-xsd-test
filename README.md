# Проверка xml по xsd

## Краткое описание
Операция, демонстрирующая возможность проверки xml по xsd как при чтении из файла, так и из справочника.

## Предлагаемая логика работы
 - быстрое решение: чтение xsd с диска или его хардкрд в операции (в примере реализовано)
 - чуть более сложное решение: сохранение xsd в CLOB в какой-нибудь справочник и работа с ним
Для заполнения справочника можно использовать форму с мемо-полем (если XSD небольшой) или импорт из файла

## Ограничения проверки xml средствами Oracle
 - даже для небольших схем (20 кб) регистрация схемы xsd выполняется очень долго (~ 10c.)
Жизнеспособный вариант выглядит следующим образом - схема один раз регистрируется и не удаляется. При обновлении схемы xsd зарегистрированные схемы удаляются. Пример работы есть в файле.
 - относительно невысокая скорость работы при больших объёмах данных; xml размером 10Мб проверяется около 1с
 - не очень хорошая диагностика ошибок; далеко не во всех случаях можно понять где ошибка, пользователю её выводить противопоказано.
 - некоторые ограничения некорректно обрабатываются.
Например, не читается xsd с типом данных "xs:base64Binary" и ограничением "<xs:maxLength value="102400"/>", при этом он же с ограничением "<xs:maxLength value="10240"/>" работает.
Общение на ряде форумов (https://community.oracle.com/message/14573711#14573711) не привело к положительному решению проблемы; видимо, и впрямь не работает.
Если это действительно требуется (например, размер поля не должен превышать 100Кб), то решение следующее: убрать проверку из XSD и добавить в код.

## Содержание
**xsd_test.mdb**

**xsd_test.pck**
* поставка

**example\test.xml**
**example\test.xsd**
* тестовый пример xml и xsd

# Пример работы
простая валидация

![Sample Screen](img/simple.jpg "Simple Validation Sample")

продвинутая валидация

![Sample Screen](img/advanced.jpg "Advanced Validation Sample")